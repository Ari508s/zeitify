{% load static %}								<!-- Laedt die Django-Funktion fuer statische Dateien (CSS) -->
<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">		<!-- Responsive Design: passt sich an Bildschirmgroesse an -->
<title>Uebersicht Zeitify</title>
<link rel="stylesheet" href="{% static 'style.css' %}">
</head>
<body class="dashboard-body">							<!-- Body mit Klasse fuer Dashboard-Layout -->
<header class="app-header">
<div class="app-header-left">
<div class="app-header-title">Zeitify</div>
<div class="app-header-subtitle">Arbeitszeituebersicht</div>
</div>
<div class="app-header-right">

    Benutzer: <strong>{{ username|default:"Gast" }}</strong><br>

    Rolle:									<!-- Rollenanzeige mit Django-Bedingungen -->
<strong>									<!-- strong zeigt das es ein sehr wichtiges Element -->

      {% if role == "simple" %} Anwender						

      {% elif role == "vip" %} VIP							

      {% elif role == "admin" %} Administrator						

      {% else %} unbekannt

      {% endif %}
</strong>
<a href="{% url 'logout' %}">Logout</a>
</div>
</header>
<div class="dashboard-layout">
<nav class="sidebar">								<!-- Normale Menuelinks -->
<a href="{% url 'uebersicht' %}" class="active">Dashboard</a>
<a href="{% url 'berichte' %}">Neuer Bericht</a>
<a href="{% url 'meine_berichte' %}">Meine Berichte</a>
<a href="{% url 'einstellungen' %}">Einstellungen</a>

    {% if role == "admin" %}							<!-- Zusaetzliche Links NUR fuer Admin -->
<a href="{% url 'rollen_antraege' %}">Rollenantraege</a>
<a href="{% url 'module_verwalten' %}">Module verwalten</a>
<a href="{% url 'benutzer_verwalten' %}">Benutzer verwalten</a>

    {% endif %}
</nav>
<main class="dashboard-main">							<!--- Hauptuebersicht -->
<h1>Dashboard</h1>

<div class="dashboard-grid">
<div class="dashboard-card">							<!-- Karte mit Gesamtstunden -->
<div class="dashboard-card-title">Gesamtarbeitszeit</div>
<div class="dashboard-card-value">

          {{ gesamt_stunden|default:0 }} h					<!-- holt Wert aus Django view-->										
</div>
</div>
<div class="dashboard-card">							<!-- Karte mit Gesamtminuten -->
<div class="dashboard-card-title">Gesamtminuten</div>
<div class="dashboard-card-value">

          {{ gesamt_minuten|default:0 }} min					<!-- holt Wert aus Django view-->
</div>
</div>
</div>

<h2>Zeit pro Modul</h2>
<table class="module-table">
<thead>
<tr>
<th>Modul</th>
<th>Minuten</th>
<th>Stunden</th>
</tr>
</thead>
<tbody>										<!-- Tabelleninhalt -->


        {% for m in module_details %}						<!-- holt Wert aus Django view-->

<tr>
<td>{{ m.name }}</td>			
<td>{{ m.minuten }} min</td>
<td>{{ m.stunden }} h</td>
</tr>

        {% empty %}								<!-- falls es keine module gibt -->

<tr>
<td>Noch keine Berichte vorhanden.</td>
</tr>

        {% endfor %}
</tbody>
</table>

<div class="dashboard-print">
<button onclick="window.print()" class="dashboard-btn">
Uebersicht drucken   
</button>
</div>
</main>
</div>
</body>
</html>
 